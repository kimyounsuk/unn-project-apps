#Deployment.yaml 설명

apiVersion: apps/v1    # Kubernetes API 버전, Deployment 리소스는 apps/v1 사용
kind: Deployment      
metadata:                 #리소스 메타정보
  creationTimestamp: null   #리소스 생성 시간, kubectl이 자동으로 채우므로, 보통 삭제 함
  labels:                           # 리소스 식별용 라벨
    app: nginx                   # Service, Selector, 모니터링 등에서 사용
  name: nginx                  # Deployment 리소스 이름
spec:                              # Deployment가 원하는 상태 정의
  replicas: 2                     # 실행할 Pod 개수 2개 선언, 
  selector:                        #Pod 선택자, Deployment가 어떤 Pod를 관리할지 결정
    matchLabels:
      app: nginx                #template.metadata.labels와 반드시 일치해야 함****
  strategy: {}                   #배포 전략, {} 비어 있으면 기본값인 RollingUpdate(무중단 배포전략)전략 적용
  template:                    #Pod 템플릿으로 별도 pod.yaml 불필요함
    metadata:
      creationTimestamp: null
      labels:                     
        app: nginx            # pod의 라벨, selector label와 반드시 동일해야 함****
    spec:                        # Pod 스펙, Pod 내부 구성 정의
      containers:             # Pod 안에 실행될 컨테이너 목록
      - name: nginx        # container 이름
        image: nginx:latest    #사용할 컨테이너 이미지
        imagePullPolicy: Always   #이미지 Pull 정책 : Always는 Pod 생성 시 항상 pull