#service.yaml 설명

apiVersion: v1
kind: Service
metadata:
  labels:
    app: nginx   #Service 자체에 붙는 라벨, 조회, 관리, 모니터링 용도이며 Pod 선택과는 무관
  name: nginx   # Service 이름
spec:
  ports:
  - port: 80        #외부에서 접속할 포트, http://elb-dns:80
    protocol: TCP
    targetPort: 80  #Pod(컨테이너) 실제 listen 포트, 80:80 port forwarding
  selector:
    app: nginx           # POD내 labels:  app=nginx 라벨을 가진 Pod를 선택(일치하는 pod 자동 연결)****
                              ## Deployment Pod 라벨과 연결, 같아야 함 ****
  sessionAffinity: None  
        #세션 고정(Sticky Session) 설정 안함, None (기본값) client 접속시마다 pod 가 바뀔수 있다. 
        #sessionAffinity: ClientIP 지정시 같은 클라이언트 IP → 같은 Pod 로 접속
  type: LoadBalancer
